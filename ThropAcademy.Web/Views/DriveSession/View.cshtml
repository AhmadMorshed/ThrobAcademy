@model IEnumerable<Throb.Data.Entities.DriveSession>

@{
    ViewData["Title"] = "الفيديوهات الخاصة بالكورس";
    // ❌ تم حذف تعريف متغيرات الألوان هنا ونقلها إلى CSS Custom Properties
}

@* ⚠️ ملاحظة: يمكن دمج Font-Awesome و Bootstrap و Cairo Font في ملف _Layout.cshtml لتحميلها مرة واحدة لكل الصفحات. *@
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />


<div class="container py-5">
    <h2 class="section-title fw-bold mb-5 text-center">@ViewData["Title"] <i class="fas fa-video ms-2"></i></h2>

    <div class="video-grid">
        @if (Model != null && Model.Any())
        {
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                @foreach (var video in Model)
                {
                    <div class="col">
                        <div class="video-card h-100 shadow-sm">
                            <a href="@video.FilePath" class="video-thumbnail" target="_blank">
                                
                                <img src="https://via.placeholder.com/320x180/7e57c2/FFFFFF?text=Video+@video.Title" alt="@video.Title" class="img-fluid">
                                <div class="play-icon">
                                    <i class="bi bi-play-circle-fill"></i>
                                </div>
                            </a>
                            <div class="video-info">
                                <h5 class="video-title">@video.Title</h5>
                                <p class="video-date">
                                    <i class="fas fa-calendar-alt me-1"></i> تاريخ الرفع: @video.UploadDate.ToString("dd/MM/yyyy")
                                </p>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
        else
        {
            <div class="alert alert-info text-center mt-5" role="alert">
                <i class="fas fa-exclamation-circle me-2"></i> لا توجد فيديوهات متاحة لهذا الكورس حالياً.
            </div>
        }
    </div>

    @if (User.IsInRole("Admin") || User.IsInRole("Instructor"))
    {
        <div class="text-center mt-5">
            <a asp-action="UploadVideo" class="btn btn-upload-action">
                <i class="fas fa-plus-circle me-2"></i> رفع فيديو جديد
            </a>
        </div>
    }
</div>}

@* 🟢 ربط ملف CSS الخارجي *@
<link rel="stylesheet" href="~/css/DriveSession/View.css" />